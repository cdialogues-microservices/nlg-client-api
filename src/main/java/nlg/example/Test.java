package nlg.example;

import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;
import io.swagger.client.model.ExperimentMessage;

import java.lang.reflect.Type;
import java.util.List;

public class Test {
    public static void main(String[] args) {
        String jsonString = "[{\"parentId\":82139,\"richContents\":[{\"positionId\":82143,\"richContentID\":28788,\"text\":\"Hello\",\"position\":1,\"tags\":[{\"id\":1109,\"tagName\":\"Greeting\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"},{\"id\":1110,\"tagName\":\"FIRST\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"},{\"positionId\":82144,\"richContentID\":66165,\"text\":\"Find in image hidden digit 10\",\"position\":2,\"tags\":[{\"id\":1114,\"tagName\":\"ACTION\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"},{\"positionId\":82145,\"richContentID\":66165,\"text\":\"Find in image hidden digit 10\",\"position\":3,\"tags\":[{\"id\":1113,\"tagName\":\"IMAGE\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"},{\"positionId\":82146,\"richContentID\":76700,\"text\":\"and get extra 30 questions\",\"position\":4,\"tags\":[{\"id\":1115,\"tagName\":\"PRIZE_QUESTION\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"},{\"positionId\":82148,\"richContentID\":74694,\"text\":\"mobile phone\",\"position\":5,\"tags\":[{\"id\":1111,\"tagName\":\"CAR_5\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"},{\"id\":1112,\"tagName\":\"CAR\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"}],\"tags\":[{\"id\":1167,\"tagName\":\"NLG_INTEGRATION\",\"tagType\":\"MESSAGE\",\"tagCategory\":\"DEFAULT\"},{\"id\":1132,\"tagName\":\"TEST_TAG_MESSAGE\",\"tagType\":\"MESSAGE\",\"tagCategory\":\"DEFAULT\"},{\"id\":1131,\"tagName\":\"AUGUST_PRIZE\",\"tagType\":\"MESSAGE\",\"tagCategory\":\"DEFAULT\"},{\"tagName\":\"createdFromParent_82139\",\"tagType\":\"MESSAGE\",\"tagCategory\":\"DEFAULT\"}]},{\"parentId\":82139,\"richContents\":[{\"positionId\":82143,\"richContentID\":28788,\"text\":\"Hello\",\"position\":1,\"tags\":[{\"id\":1109,\"tagName\":\"Greeting\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"},{\"id\":1110,\"tagName\":\"FIRST\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"},{\"positionId\":82144,\"richContentID\":66165,\"text\":\"Find in image hidden digit 10\",\"position\":2,\"tags\":[{\"id\":1114,\"tagName\":\"ACTION\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"},{\"positionId\":82145,\"richContentID\":66165,\"text\":\"Find in image hidden digit 10\",\"position\":3,\"tags\":[{\"id\":1113,\"tagName\":\"IMAGE\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"},{\"positionId\":82147,\"richContentID\":76701,\"text\":\"and earn 20 points\",\"position\":4,\"tags\":[{\"id\":1116,\"tagName\":\"PRIZE_POINTS\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"},{\"positionId\":82148,\"richContentID\":74694,\"text\":\"mobile phone\",\"position\":5,\"tags\":[{\"id\":1111,\"tagName\":\"CAR_5\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"},{\"id\":1112,\"tagName\":\"CAR\",\"tagType\":\"POS_RICH\",\"tagCategory\":\"DEFAULT\"}],\"type\":\"TEXT\"}],\"tags\":[{\"id\":1167,\"tagName\":\"NLG_INTEGRATION\",\"tagType\":\"MESSAGE\",\"tagCategory\":\"DEFAULT\"},{\"id\":1132,\"tagName\":\"TEST_TAG_MESSAGE\",\"tagType\":\"MESSAGE\",\"tagCategory\":\"DEFAULT\"},{\"id\":1131,\"tagName\":\"AUGUST_PRIZE\",\"tagType\":\"MESSAGE\",\"tagCategory\":\"DEFAULT\"},{\"tagName\":\"createdFromParent_82139\",\"tagType\":\"MESSAGE\",\"tagCategory\":\"DEFAULT\"}]}]";

        Gson gson = new Gson();
        Type listType = new TypeToken<List<ExperimentMessage>>(){}.getType();
        List<ExperimentMessage> messages = gson.fromJson(jsonString, listType);
        System.out.println(messages.get(0).getRichContents().get(0).getText());
    }
}
